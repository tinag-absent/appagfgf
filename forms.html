<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
  <title>è·å“¡ç”¨ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ  â€” æµ·è•æ©Ÿé–¢</title>
  <link rel="icon" type="image/png" href="./images/favicon.png">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/sidebar.css">
  <link rel="stylesheet" href="./css/mobile.css">
  <link rel="stylesheet" href="./css/loading.css">
  <style>
    .forms-tabs {
      display: flex;
      border-bottom: 1px solid rgba(255,255,255,.1);
      margin-bottom: 2rem;
      overflow-x: auto;
    }
    .forms-tab {
      padding: .75rem 1.5rem;
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      color: var(--muted-foreground);
      font-family: 'JetBrains Mono', monospace;
      font-size: .75rem;
      text-transform: uppercase;
      letter-spacing: .07em;
      cursor: pointer;
      white-space: nowrap;
      margin-bottom: -1px;
      transition: all .2s;
    }
    .forms-tab:hover { color: var(--foreground); }
    .forms-tab.active { color: var(--primary); border-bottom-color: var(--primary); }
    .forms-tab .tab-icon { margin-right: .4rem; }

    .form-panel { display: none; }
    .form-panel.active { display: block; }

    /* Receipt stack */
    .receipts-list {
      margin-top: 2.5rem;
      border-top: 1px solid rgba(255,255,255,.08);
      padding-top: 1.5rem;
    }
    .receipts-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: .72rem;
      color: var(--muted-foreground);
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: 1rem;
    }
    .receipt-item {
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.07);
      border-left: 3px solid var(--rc, var(--primary));
      padding: .85rem 1.25rem;
      margin-bottom: .5rem;
      display: flex;
      align-items: flex-start;
      gap: 1rem;
    }
    .receipt-badge {
      font-family: 'JetBrains Mono', monospace;
      font-size: .6rem;
      padding: .2rem .5rem;
      border: 1px solid var(--rc, var(--primary));
      color: var(--rc, var(--primary));
      white-space: nowrap;
      flex-shrink: 0;
    }
    .receipt-body { flex: 1; }
    .receipt-title {
      font-size: .9rem;
      color: white;
      font-weight: 500;
      margin-bottom: .2rem;
    }
    .receipt-meta {
      font-family: 'JetBrains Mono', monospace;
      font-size: .65rem;
      color: var(--muted-foreground);
    }
    .receipt-status {
      font-family: 'JetBrains Mono', monospace;
      font-size: .65rem;
      padding: .15rem .5rem;
      background: rgba(0,255,255,.08);
      border: 1px solid rgba(0,255,255,.2);
      color: var(--primary);
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* General form styles */
    .f-section { margin-bottom: 1.5rem; }
    .f-section-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: .68rem;
      color: var(--muted-foreground);
      text-transform: uppercase;
      letter-spacing: .1em;
      border-bottom: 1px solid rgba(255,255,255,.07);
      padding-bottom: .4rem;
      margin-bottom: 1rem;
    }
    .f-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
    @media(max-width:640px){.f-grid{grid-template-columns:1fr;}}
    .f-full { grid-column: span 2; }
    @media(max-width:640px){.f-full{grid-column:span 1;}}

    .f-field { margin-bottom: .85rem; }
    .f-label {
      display: block;
      font-family: 'JetBrains Mono', monospace;
      font-size: .68rem;
      color: var(--muted-foreground);
      text-transform: uppercase;
      letter-spacing: .07em;
      margin-bottom: .35rem;
    }
    .f-label.req::after { content: ' *'; color: #ef4444; }
    .f-input, .f-select, .f-textarea {
      width: 100%;
      background: rgba(0,0,0,.4);
      border: 1px solid rgba(255,255,255,.1);
      color: var(--foreground);
      padding: .6rem .9rem;
      font-family: 'Inter', sans-serif;
      font-size: .875rem;
      outline: none;
      transition: border-color .2s;
    }
    .f-input:focus, .f-select:focus, .f-textarea:focus { border-color: var(--primary); }
    .f-select { appearance: none; cursor: pointer; }
    .f-textarea { resize: vertical; min-height: 80px; }
    .f-checkbox-row {
      display: flex;
      align-items: flex-start;
      gap: .75rem;
      padding: .65rem .9rem;
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.07);
      cursor: pointer;
      transition: border-color .15s;
    }
    .f-checkbox-row:hover { border-color: rgba(255,255,255,.15); }
    .f-checkbox-row input[type=checkbox] {
      width: 14px; height: 14px; margin-top: 2px;
      accent-color: var(--primary);
      flex-shrink: 0;
    }
    .f-checkbox-row label {
      font-size: .82rem;
      color: var(--muted-foreground);
      cursor: pointer;
    }

    .f-info-box {
      background: rgba(0,255,255,.04);
      border: 1px solid rgba(0,255,255,.15);
      padding: .75rem 1rem;
      font-size: .8rem;
      color: var(--muted-foreground);
      margin-bottom: 1.5rem;
      line-height: 1.6;
    }
    .f-info-box .f-info-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: .65rem;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: .35rem;
    }

    .f-submit {
      padding: .85rem 2rem;
      background: rgba(0,255,255,.1);
      border: 1px solid var(--primary);
      color: var(--primary);
      font-family: 'JetBrains Mono', monospace;
      font-size: .82rem;
      text-transform: uppercase;
      letter-spacing: .1em;
      cursor: pointer;
      transition: all .2s;
    }
    .f-submit:hover { background: rgba(0,255,255,.18); }

    /* Skill challenge */
    .skill-challenge {
      background: rgba(139,92,246,.06);
      border: 1px solid rgba(139,92,246,.2);
      padding: 1rem 1.25rem;
      margin-bottom: 1.25rem;
    }
    .sc-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: .65rem;
      color: #8b5cf6;
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: .5rem;
    }
    .sc-input {
      width: 100%;
      background: rgba(0,0,0,.4);
      border: 1px solid rgba(139,92,246,.25);
      color: #8b5cf6;
      padding: .6rem .9rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: .875rem;
      outline: none;
    }
    .sc-input:focus { border-color: #8b5cf6; }
    .sc-hint {
      font-size: .72rem;
      color: rgba(139,92,246,.5);
      margin-top: .4rem;
    }
    .sc-correct {
      color: #10b981;
      font-family: 'JetBrains Mono', monospace;
      font-size: .72rem;
      margin-top: .4rem;
    }
  </style>
</head>
<body>
  <div class="app-layout">
    <aside class="sidebar"></aside>
    <button class="mobile-menu-toggle">
      <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
    <div class="mobile-menu-overlay"></div>

    <main class="main-content scanline">
      <div class="container animate-fadeIn">

        <div style="border-left:4px solid var(--primary);padding-left:1rem;margin-bottom:2rem;">
          <h1 style="font-size:2.5rem;font-family:'Space Grotesk',sans-serif;font-weight:700;color:white;text-transform:uppercase;">
            è·å“¡ç”¨ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ 
          </h1>
          <p class="font-mono" style="font-size:.875rem;margin-top:.5rem;color:var(--muted-foreground);">
            PERSONNEL FORMS â€” å„ç¨®ç”³è«‹ãƒ»å±Šå‡º
          </p>
        </div>

        <!-- Tabs -->
        <div class="forms-tabs">
          <button class="forms-tab active" onclick="switchForm('leave',this)"><span class="tab-icon">ğŸ“‹</span>ä¼‘æš‡ç”³è«‹</button>
          <button class="forms-tab" onclick="switchForm('equipment',this)"><span class="tab-icon">âš™ï¸</span>è£…å‚™ç”³è«‹</button>
          <button class="forms-tab" onclick="switchForm('promotion',this)"><span class="tab-icon">â¬†ï¸</span>æ˜‡æ ¼æ¨è–¦</button>
          <button class="forms-tab" onclick="switchForm('anomaly',this)"><span class="tab-icon">âš ï¸</span>å€‹äººç•°å¸¸å ±å‘Š</button>
          <button class="forms-tab" onclick="switchForm('classified',this)"><span class="tab-icon">ğŸ”</span>æ©Ÿå¯†æƒ…å ±é–‹ç¤ºç”³è«‹</button>
        </div>

        <!-- â‘  ä¼‘æš‡ç”³è«‹ -->
        <div class="form-panel active" id="panel-leave">
          <div class="f-info-box">
            <div class="f-info-label">// æ³¨æ„äº‹é …</div>
            ä¼‘æš‡å–å¾—ã«ã¯7æ—¥å‰ã¾ã§ã®ç”³è«‹ãŒå¿…è¦ã§ã™ã€‚åæŸéƒ¨é–€ãƒ»å¤–ç¸éƒ¨é–€ã¯äº‹æ¡ˆå¯¾å¿œä¸­ã®ç”³è«‹ã¯å´ä¸‹ã•ã‚Œã¾ã™ã€‚
          </div>
          <form onsubmit="submitForm(event,'leave','ä¼‘æš‡ç”³è«‹')">
            <div class="f-section">
              <div class="f-section-title">åŸºæœ¬æƒ…å ±</div>
              <div class="f-grid">
                <div class="f-field">
                  <label class="f-label req">æ°å</label>
                  <input class="f-input" id="leave-name" required placeholder="ç”°ä¸­ ä¸€éƒ">
                </div>
                <div class="f-field">
                  <label class="f-label req">è·å“¡ID</label>
                  <input class="f-input" id="leave-id" required placeholder="K-001-XXX">
                </div>
                <div class="f-field">
                  <label class="f-label req">æ‰€å±éƒ¨é–€</label>
                  <select class="f-select" id="leave-div" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option>åæŸéƒ¨é–€</option><option>æ”¯æ´éƒ¨é–€</option>
                    <option>å·¥ä½œéƒ¨é–€</option><option>å¤–ç¸éƒ¨é–€</option><option>æ¸¯æ¹¾éƒ¨é–€</option>
                  </select>
                </div>
                <div class="f-field">
                  <label class="f-label req">ä¼‘æš‡ç¨®åˆ¥</label>
                  <select class="f-select" required>
                    <option>å¹´æ¬¡æœ‰çµ¦ä¼‘æš‡</option><option>ç‰¹åˆ¥ä¼‘æš‡</option>
                    <option>ç™‚é¤Šä¼‘æš‡</option><option>å¿ƒçš„å¤–å‚·å¾Œä¼‘æš‡</option>
                  </select>
                </div>
                <div class="f-field">
                  <label class="f-label req">é–‹å§‹æ—¥</label>
                  <input class="f-input" type="date" required>
                </div>
                <div class="f-field">
                  <label class="f-label req">çµ‚äº†æ—¥</label>
                  <input class="f-input" type="date" required>
                </div>
                <div class="f-field f-full">
                  <label class="f-label">ç”³è«‹ç†ç”±</label>
                  <textarea class="f-textarea" placeholder="ä»»æ„ã€‚å¿ƒçš„å¤–å‚·å¾Œä¼‘æš‡ã®å ´åˆã¯æ”¯æ´éƒ¨é–€ã®è¨ºæ–­æ›¸ã‚’æ·»ä»˜ã—ã¦ãã ã•ã„ã€‚"></textarea>
                </div>
              </div>
              <div class="f-checkbox-row" style="margin-top:.5rem;">
                <input type="checkbox" id="leave-confirm" required>
                <label for="leave-confirm">ç”³è«‹æœŸé–“ä¸­ã«ç·Šæ€¥å¬é›†ãŒç™ºä»¤ã•ã‚ŒãŸå ´åˆã€æ¥­å‹™ã«å¾©å¸°ã™ã‚‹ã“ã¨ã«åŒæ„ã—ã¾ã™</label>
              </div>
            </div>
            <button type="submit" class="f-submit">â–¶ ç”³è«‹ã‚’æå‡ºã™ã‚‹</button>
          </form>
        </div>

        <!-- â‘¡ è£…å‚™ç”³è«‹ -->
        <div class="form-panel" id="panel-equipment">
          <div class="f-info-box">
            <div class="f-info-label">// æ³¨æ„äº‹é …</div>
            AAAè³‡æ ¼ãŒå¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯è³‡æ ¼è¨¼æ˜æ›¸ã®æ·»ä»˜ãŒå¿…è¦ã§ã™ã€‚ç·Šæ€¥æ™‚ã¯å£é ­æ‰¿èªå¾Œã«æ›¸é¢ç”³è«‹ã‚‚å¯èƒ½ã§ã™ã€‚
          </div>
          <form onsubmit="submitForm(event,'equipment','è£…å‚™ç”³è«‹')">
            <div class="f-grid">
              <div class="f-field">
                <label class="f-label req">æ°å</label>
                <input class="f-input" id="eq-name" required placeholder="ç”°ä¸­ ä¸€éƒ">
              </div>
              <div class="f-field">
                <label class="f-label req">æ‰€å±éƒ¨é–€</label>
                <select class="f-select" required>
                  <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                  <option>åæŸéƒ¨é–€</option><option>æ”¯æ´éƒ¨é–€</option>
                  <option>å·¥ä½œéƒ¨é–€</option><option>å¤–ç¸éƒ¨é–€</option><option>æ¸¯æ¹¾éƒ¨é–€</option>
                </select>
              </div>
              <div class="f-field">
                <label class="f-label req">ç”³è«‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</label>
                <select class="f-select" id="eq-module" required>
                  <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                  <option>M-001-Î± ç©ºé–“å›ºå®šè£…ç½®</option>
                  <option>M-003-Î² æ¬¡å…ƒæ³¢å‹•ã‚»ãƒ³ã‚µãƒ¼</option>
                  <option>M-006-Î³ é«˜ç…§åº¦æŒ‡å‘æ€§å…‰æº</option>
                  <option>M-011-Î± è¨˜æ†¶ä¿è­·ãƒ•ã‚£ãƒ«ãƒ </option>
                  <option>M-015-Î² æ¦‚å¿µé®æ–­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</option>
                  <option>M-019-Î± æ¦‚å¿µå›ºå®šã‚¢ãƒ³ã‚«ãƒ¼</option>
                  <option>ãã®ä»–ï¼ˆå‚™è€ƒã«è¨˜å…¥ï¼‰</option>
                </select>
              </div>
              <div class="f-field">
                <label class="f-label req">ä½¿ç”¨ç›®çš„</label>
                <select class="f-select" required>
                  <option>äº‹æ¡ˆå¯¾å¿œ</option><option>è¨“ç·´</option>
                  <option>ç ”ç©¶ç›®çš„</option><option>ç·Šæ€¥å¯¾å¿œ</option>
                </select>
              </div>
              <div class="f-field">
                <label class="f-label req">ä½¿ç”¨äºˆå®šæ—¥</label>
                <input class="f-input" type="date" required>
              </div>
              <div class="f-field">
                <label class="f-label">é–¢é€£äº‹æ¡ˆID</label>
                <input class="f-input" placeholder="ä¾‹ï¼šCASE-2026-0214">
              </div>
              <div class="f-field f-full">
                <label class="f-label req">ä½¿ç”¨çŠ¶æ³ã®è©³ç´°</label>
                <textarea class="f-textarea" required placeholder="ä½¿ç”¨å ´æ‰€ãƒ»å¯¾è±¡å®Ÿä½“ãƒ»æƒ³å®šã•ã‚Œã‚‹åæŸæ‰‹é †ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„"></textarea>
              </div>
            </div>
            <button type="submit" class="f-submit">â–¶ ç”³è«‹ã‚’æå‡ºã™ã‚‹</button>
          </form>
        </div>

        <!-- â‘¢ æ˜‡æ ¼æ¨è–¦ -->
        <div class="form-panel" id="panel-promotion">
          <div class="f-info-box">
            <div class="f-info-label">// æ³¨æ„äº‹é …</div>
            æ¨è–¦è€…ã¯æ¨è–¦å¯¾è±¡è€…ã‚ˆã‚Šä¸Šä½ã®ãƒ©ãƒ³ã‚¯ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚LEVEL 5ã¸ã®æ¨è–¦ã¯æ©Ÿé–¢é•·ã®æ‰¿èªãŒå¿…è¦ã§ã™ã€‚
          </div>
          <form onsubmit="submitForm(event,'promotion','æ˜‡æ ¼æ¨è–¦')">
            <div class="f-section">
              <div class="f-section-title">æ¨è–¦è€…æƒ…å ±</div>
              <div class="f-grid">
                <div class="f-field">
                  <label class="f-label req">æ¨è–¦è€…æ°å</label>
                  <input class="f-input" required placeholder="å±±ç”° èŠ±å­">
                </div>
                <div class="f-field">
                  <label class="f-label req">ç¾åœ¨ã®ãƒ©ãƒ³ã‚¯</label>
                  <select class="f-select" required>
                    <option>LEVEL 2</option><option>LEVEL 3</option>
                    <option>LEVEL 4</option><option>LEVEL 5</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="f-section">
              <div class="f-section-title">æ¨è–¦å¯¾è±¡è€…æƒ…å ±</div>
              <div class="f-grid">
                <div class="f-field">
                  <label class="f-label req">å¯¾è±¡è€…æ°å</label>
                  <input class="f-input" required placeholder="ç”°ä¸­ ä¸€éƒ">
                </div>
                <div class="f-field">
                  <label class="f-label req">ç¾åœ¨ã®ãƒ©ãƒ³ã‚¯</label>
                  <select class="f-select" required>
                    <option>LEVEL 1</option><option>LEVEL 2</option>
                    <option>LEVEL 3</option><option>LEVEL 4</option>
                  </select>
                </div>
                <div class="f-field">
                  <label class="f-label req">æ¨è–¦å¾Œã®ãƒ©ãƒ³ã‚¯</label>
                  <select class="f-select" required>
                    <option>LEVEL 2</option><option>LEVEL 3</option>
                    <option>LEVEL 4</option><option>LEVEL 5</option>
                  </select>
                </div>
                <div class="f-field">
                  <label class="f-label req">åœ¨è·æœŸé–“</label>
                  <input class="f-input" placeholder="ä¾‹ï¼š2å¹´3ãƒ¶æœˆ">
                </div>
                <div class="f-field f-full">
                  <label class="f-label req">æ¨è–¦ç†ç”±ãƒ»æ¥­ç¸¾</label>
                  <textarea class="f-textarea" style="min-height:120px;" required placeholder="å¯¾è±¡è€…ã®ç‰¹ç­†ã™ã¹ãæ¥­ç¸¾ãƒ»èƒ½åŠ›ãƒ»äº‹æ¡ˆå¯¾å¿œå®Ÿç¸¾ã‚’å…·ä½“çš„ã«è¨˜è¿°ã—ã¦ãã ã•ã„"></textarea>
                </div>
                <div class="f-field f-full">
                  <label class="f-label">æ‡¸å¿µäº‹é …ï¼ˆä»»æ„ï¼‰</label>
                  <textarea class="f-textarea" placeholder="æ˜‡æ ¼å¾Œã®èª²é¡Œãƒ»æ³¨æ„ã™ã¹ãç‚¹ãŒã‚ã‚Œã°è¨˜è¿°ã—ã¦ãã ã•ã„"></textarea>
                </div>
              </div>
            </div>
            <button type="submit" class="f-submit">â–¶ æ¨è–¦æ›¸ã‚’æå‡ºã™ã‚‹</button>
          </form>
        </div>

        <!-- â‘£ å€‹äººç•°å¸¸å ±å‘Š -->
        <div class="form-panel" id="panel-anomaly">
          <div class="f-info-box" style="border-color:rgba(239,68,68,.2);background:rgba(239,68,68,.04);">
            <div class="f-info-label" style="color:#ef4444;">// é‡è¦</div>
            æµ·è•å®Ÿä½“ã¨ã®æ¥è§¦å¾Œã«èªè­˜ãƒ»è¨˜æ†¶ãƒ»æ„Ÿè¦šã®ç•°å¸¸ã‚’æ„Ÿã˜ãŸå ´åˆã¯ã€48æ™‚é–“ä»¥å†…ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚
            æå‡ºã•ã‚ŒãŸå ±å‘Šã¯æ”¯æ´éƒ¨é–€ãŒæ©Ÿå¯†æ‰±ã„ã§ç®¡ç†ã—ã¾ã™ã€‚
          </div>
          <form onsubmit="submitForm(event,'anomaly','å€‹äººç•°å¸¸å ±å‘Š')">
            <div class="f-grid">
              <div class="f-field">
                <label class="f-label req">æ°å</label>
                <input class="f-input" id="anom-name" required>
              </div>
              <div class="f-field">
                <label class="f-label req">è·å“¡ID</label>
                <input class="f-input" required>
              </div>
              <div class="f-field">
                <label class="f-label req">ç—‡çŠ¶ç™ºç¾æ—¥æ™‚</label>
                <input class="f-input" type="datetime-local" required>
              </div>
              <div class="f-field">
                <label class="f-label">ç›´è¿‘ã®æ¥è§¦äº‹æ¡ˆID</label>
                <input class="f-input" placeholder="ä¾‹ï¼šCASE-2026-0214">
              </div>
            </div>
            <div class="f-field" style="margin-top:.5rem;">
              <label class="f-label req">è©²å½“ã™ã‚‹ç—‡çŠ¶ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</label>
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:.4rem;margin-top:.35rem;">
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">è¨˜æ†¶ã®æ¬ è½ãƒ»æ–­ç‰‡åŒ–</label></div>
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">å®Ÿä½“ã®å£°ãƒ»éŸ³å£°ã®æ®‹å­˜</label></div>
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">è¦–è¦šçš„æ®‹åƒãƒ»å¹»è¦š</label></div>
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">ç¾å®Ÿæ„Ÿã®å–ªå¤±ï¼ˆé›¢äººæ„Ÿï¼‰</label></div>
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">ç¡çœ éšœå®³ãƒ»åå¾©å¤¢</label></div>
                <div class="f-checkbox-row"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">æ„Ÿè¦šéæ•ãƒ»æ„Ÿè¦šéˆéº»</label></div>
                <div class="f-checkbox-row" style="grid-column:span 2;"><input type="checkbox"><label style="cursor:pointer;font-size:.8rem;">ãã®ä»–ï¼ˆä¸‹è¨˜ã«è¨˜è¿°ï¼‰</label></div>
              </div>
            </div>
            <div class="f-field">
              <label class="f-label req">è©³ç´°ãªçŠ¶æ³èª¬æ˜</label>
              <textarea class="f-textarea" style="min-height:100px;" required placeholder="ç—‡çŠ¶ã®å…·ä½“çš„ãªå†…å®¹ãƒ»é »åº¦ãƒ»æ—¥å¸¸æ¥­å‹™ã¸ã®å½±éŸ¿ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„"></textarea>
            </div>
            <!-- ARGä»•æ›ã‘: ç§˜å¯†ã®è³ªå• -->
            <div class="skill-challenge">
              <div class="sc-label">// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¢ºèª â€” ä»¥ä¸‹ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„</div>
              <p style="font-size:.8rem;color:rgba(255,255,255,.5);margin-bottom:.75rem;">ã€Œæµ·ã¯ä½•ã‚’ã—ã¦ã„ã‚‹ï¼Ÿã€</p>
              <input class="sc-input" id="sc-answer" placeholder="..." oninput="checkAnswer(this.value)">
              <div class="sc-hint" id="sc-hint">ãƒ’ãƒ³ãƒˆ: æ©Ÿé–¢åã®ç”±æ¥ã‚’è€ƒãˆã¦ãã ã•ã„</div>
            </div>
            <button type="submit" class="f-submit" id="anomaly-submit">â–¶ å ±å‘Šæ›¸ã‚’æå‡ºã™ã‚‹</button>
          </form>
        </div>

        <!-- â‘¤ æ©Ÿå¯†æƒ…å ±é–‹ç¤ºç”³è«‹ -->
        <div class="form-panel" id="panel-classified">
          <div class="f-info-box" style="border-color:rgba(255,215,64,.2);background:rgba(255,215,64,.03);">
            <div class="f-info-label" style="color:#ffd740;">// æœ€é«˜æ©Ÿå¯†</div>
            æ©Ÿå¯†æƒ…å ±ã®é–‹ç¤ºç”³è«‹ã¯å³æ ¼ãªå¯©æŸ»ãŒè¡Œã‚ã‚Œã¾ã™ã€‚è™šå½ã®ç”³è«‹ã¯è¦å¾‹å§”å“¡ä¼šã«ä»˜è¨—ã•ã‚Œã¾ã™ã€‚
            ç”³è«‹å¾Œã€é€šå¸¸3ã€œ10å–¶æ¥­æ—¥ã§å¯©æŸ»çµæœãŒé€šçŸ¥ã•ã‚Œã¾ã™ã€‚
          </div>
          <form onsubmit="submitForm(event,'classified','æ©Ÿå¯†æƒ…å ±é–‹ç¤ºç”³è«‹')">
            <div class="f-grid">
              <div class="f-field">
                <label class="f-label req">ç”³è«‹è€…æ°å</label>
                <input class="f-input" required>
              </div>
              <div class="f-field">
                <label class="f-label req">ç¾åœ¨ã®ã‚¯ãƒªã‚¢ãƒ©ãƒ³ã‚¹ãƒ¬ãƒ™ãƒ«</label>
                <select class="f-select" required>
                  <option>LEVEL 1</option><option>LEVEL 2</option>
                  <option>LEVEL 3</option><option>LEVEL 4</option>
                </select>
              </div>
              <div class="f-field">
                <label class="f-label req">ç”³è«‹ã™ã‚‹æƒ…å ±ã‚«ãƒ†ã‚´ãƒª</label>
                <select class="f-select" required>
                  <option>æ¡œå·äº‹ä»¶ï¼ˆ1984å¹´ï¼‰é–¢é€£è¨˜éŒ²</option>
                  <option>Y2Kæ¬¡å…ƒå…±é³´äº‹æ¡ˆï¼ˆ1999å¹´ï¼‰è©³ç´°</option>
                  <option>æ¦‚å¿µæ•é£Ÿè€…ãƒ»è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³å®Œå…¨ç‰ˆ</option>
                  <option>å°å°è¨ˆç”» ãƒ•ã‚§ãƒ¼ã‚º2ä»¥é™</option>
                  <option>æ©Ÿé–¢é•·å®¤å†…éƒ¨é€šé”</option>
                  <option>è¦³æ¸¬è€…ã¨ã®æ¥è§¦è¨˜éŒ²</option>
                </select>
              </div>
              <div class="f-field">
                <label class="f-label req">ç”³è«‹ç›®çš„</label>
                <select class="f-select" required>
                  <option>äº‹æ¡ˆå¯¾å¿œã®ãŸã‚</option><option>ç ”ç©¶ç›®çš„</option>
                  <option>ä¸Šä½æ©Ÿé–¢ã¸ã®å ±å‘Šã®ãŸã‚</option><option>ãã®ä»–</option>
                </select>
              </div>
              <div class="f-field f-full">
                <label class="f-label req">é–‹ç¤ºãŒå¿…è¦ãªå…·ä½“çš„ç†ç”±</label>
                <textarea class="f-textarea" style="min-height:100px;" required placeholder="ãªãœã“ã®æƒ…å ±ãŒç¾åœ¨ã®æ¥­å‹™ã«å¿…è¦ã‹ã€å…·ä½“çš„ã«èª¬æ˜ã—ã¦ãã ã•ã„"></textarea>
              </div>
              <div class="f-field f-full">
                <label class="f-label req">æ¨è–¦ä¸Šé•·ã®æ°å</label>
                <input class="f-input" required placeholder="ä¸Šé•·ã®åå‰">
              </div>
            </div>
            <div class="f-checkbox-row" style="margin-bottom:1.25rem;">
              <input type="checkbox" id="cl-agree" required>
              <label for="cl-agree">å–å¾—ã—ãŸæ©Ÿå¯†æƒ…å ±ã‚’æ¥­å‹™ç›®çš„ä»¥å¤–ã«ä½¿ç”¨ã—ãªã„ã“ã¨ã€åŠã³æƒ…å ±æ¼æ´©ãŒç™ºç”Ÿã—ãŸå ´åˆã¯å³åº§ã«æ©Ÿé–¢é•·å®¤ã¸å ±å‘Šã™ã‚‹ã“ã¨ã«åŒæ„ã—ã¾ã™</label>
            </div>
            <button type="submit" class="f-submit">â–¶ ç”³è«‹æ›¸ã‚’æå‡ºã™ã‚‹</button>
          </form>
        </div>

        <!-- ç”³è«‹å±¥æ­´ -->
        <div class="receipts-list">
          <div class="receipts-title">// ç”³è«‹å±¥æ­´</div>
          <div id="receipts-container">
            <div style="color:var(--muted-foreground);font-family:'JetBrains Mono',monospace;font-size:.78rem;text-align:center;padding:2rem;">
              ç”³è«‹å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <script src="./js/error-handler.js"></script>
  <script src="./js/data-bundle.js"></script>
  <script src="./js/loading.js"></script>
  <script src="./js/sidebar.js"></script>
  <script src="./js/bookmark.js"></script>
  <script src="./js/main.js"></script>
  <script src="./js/modal.js"></script>
  <script src="./js/progress.js"></script>
  <script src="./js/story-engine.js"></script>
  <script src="./js/notifications.js"></script>
  
  <script>
    if (!ProgressSystem.checkPageAccess('forms.html')) {
      ModalSystem.warning('ã“ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ LEVEL 1 ãŒå¿…è¦ã§ã™ã€‚','ACCESS DENIED')
        .then(function(){ Router.navigate('#/dashboard'); });
    }

    var FORMS_KEY = 'kaishoku_forms';
    var TYPE_META = {
      leave:     { label:'ä¼‘æš‡ç”³è«‹',     color:'#3b82f6' },
      equipment: { label:'è£…å‚™ç”³è«‹',     color:'#8b5cf6' },
      promotion: { label:'æ˜‡æ ¼æ¨è–¦',     color:'#f59e0b' },
      anomaly:   { label:'å€‹äººç•°å¸¸å ±å‘Š', color:'#ef4444' },
      classified:{ label:'æ©Ÿå¯†é–‹ç¤ºç”³è«‹', color:'#ffd740' },
    };

    // Tab switch
    window.switchForm = function(id, btn) {
      document.querySelectorAll('.forms-tab').forEach(function(b){ b.classList.remove('active'); });
      document.querySelectorAll('.form-panel').forEach(function(p){ p.classList.remove('active'); });
      btn.classList.add('active');
      document.getElementById('panel-' + id).classList.add('active');
    };

    // ARG answer check
    window.checkAnswer = function(val) {
      var answers = ['å‰Šã‚Œã¦ã„ã‚‹','å‰Šã‚Œã¦ã‚‹','ã‘ãšã‚Œã¦ã„ã‚‹'];
      var hint = document.getElementById('sc-hint');
      if (answers.some(function(a){ return val.toLowerCase().includes(a); })) {
        hint.textContent = '';
        hint.innerHTML = '<span class="sc-correct">âœ“ æ­£ã—ã„èªè­˜ã§ã™ã€‚æµ·è•æ©Ÿé–¢ã¸ã‚ˆã†ã“ãã€‚</span>';
        ProgressSystem.trackActivity('chat_message');
      }
    };

    // Submit
    window.submitForm = function(e, type, label) {
      e.preventDefault();
      var user = ProgressSystem.getUserData();
      var forms = JSON.parse(localStorage.getItem(FORMS_KEY) || '[]');
      var entry = {
        id: 'FORM-' + Date.now(),
        type: type,
        label: label,
        submitter: user ? user.name : 'åŒ¿å',
        timestamp: new Date().toISOString(),
        status: 'å¯©æŸ»ä¸­',
      };
      forms.unshift(entry);
      if (forms.length > 20) forms.pop();
      localStorage.setItem(FORMS_KEY, JSON.stringify(forms));

      ModalSystem.success(
        label + 'ã‚’å—ç†ã—ã¾ã—ãŸã€‚<br><br>å—ä»˜ç•ªå·: ' + entry.id + '<br>æ‹…å½“éƒ¨é–€ã«è»¢é€ã•ã‚Œã¾ã™ã€‚',
        'ç”³è«‹å—ç†'
      );
      ProgressSystem.trackActivity('chat_message');
      e.target.reset();
      renderReceipts();
    };

    // Render receipts
    function renderReceipts() {
      var forms = JSON.parse(localStorage.getItem(FORMS_KEY) || '[]');
      var el = document.getElementById('receipts-container');
      if (!forms.length) {
        el.innerHTML = '<div style="color:var(--muted-foreground);font-family:\'JetBrains Mono\',monospace;font-size:.78rem;text-align:center;padding:2rem;">ç”³è«‹å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“</div>';
        return;
      }
      el.innerHTML = forms.map(function(f) {
        var meta = TYPE_META[f.type] || { label: f.label, color: 'var(--primary)' };
        var dt = new Date(f.timestamp).toLocaleString('ja-JP');
        return '<div class="receipt-item" style="--rc:' + meta.color + '">' +
          '<div class="receipt-badge">' + meta.label + '</div>' +
          '<div class="receipt-body">' +
          '<div class="receipt-title">' + f.id + '</div>' +
          '<div class="receipt-meta">' + f.submitter + ' / ' + dt + '</div>' +
          '</div>' +
          '<div class="receipt-status">å¯©æŸ»ä¸­</div>' +
          '</div>';
      }).join('');
    }

    // pre-fill name
    (function() {
      var user = ProgressSystem.getUserData();
      if (!user) return;
      var nameFields = ['leave-name', 'anom-name', 'eq-name'];
      nameFields.forEach(function(id) {
        var el = document.getElementById(id);
        if (el && user.name) el.value = user.name;
      });
      var idField = document.getElementById('leave-id');
      if (idField && user.id) idField.value = user.id;
    })();

    renderReceipts();
  </script>
</body>
</html>
